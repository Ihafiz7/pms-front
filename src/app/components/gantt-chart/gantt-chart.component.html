<div class="gantt-wrapper bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
  <!-- Header -->
  <div class="header bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
    <div>
      <h2 class="text-2xl font-bold text-gray-800">{{ ganttData?.project?.name || 'Project Gantt Chart' }}</h2>
      <p class="text-gray-600 mt-1">{{ ganttData?.project?.description }}</p>
    </div>
    <div class="flex flex-wrap items-center gap-3">
      <select [(ngModel)]="viewMode" (change)="changeViewMode(viewMode)"
        class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm">
        <option *ngFor="let mode of viewModes" [value]="mode">{{ mode }}</option>
      </select>

      <button (click)="addNewTask()" class="btn-primary">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
        </svg>
        Add Task
      </button>

      <button (click)="loadGanttData()" [disabled]="loading" class="btn-secondary">
        Refresh
      </button>
    </div>
  </div>

  <!-- Status Legend -->
  <div class="legend flex flex-wrap gap-4 px-6 py-3 border-b border-gray-200 text-sm">
    <div class="flex items-center gap-1"><span class="status-dot status-done"></span> Done</div>
    <div class="flex items-center gap-1"><span class="status-dot status-review"></span> Review</div>
    <div class="flex items-center gap-1"><span class="status-dot status-in-progress"></span> In Progress</div>
    <div class="flex items-center gap-1"><span class="status-dot status-todo"></span> To Do</div>
    <div class="flex items-center gap-1"><span class="status-dot status-blocked"></span> Blocked</div>
  </div>

  <!-- Gantt Chart -->
  <div #ganttContainer id="ganttContainer" class="gantt-chart h-[400px] overflow-x-auto">
    <p *ngIf="loading" class="text-center py-16 text-gray-500">Loading tasks...</p>
    <p *ngIf="error" class="text-center py-16 text-red-500">{{ error }}</p>
  </div>
</div>
